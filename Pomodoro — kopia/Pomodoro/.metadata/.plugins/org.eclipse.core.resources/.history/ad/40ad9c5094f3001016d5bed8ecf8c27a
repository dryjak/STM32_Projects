/*
 * Button.c
 *
 *  Created on: Jan 17, 2026
 *      Author: dryla
 */

#include "Button.h"

//Init function
void ButtonInit(Button_t* Button, GPIO_TypeDef* GpioPort, uint16_t GpioPin, uint32_t TimerDebounce)
{
	Button->State = IDLE;
	Button->GpioPort = GpioPort;
	Button->GpioPin  = GpioPin;
	Button->TimerDebounce = TimerDebounce;
}
//Time setting functions

//Register callbacks



//States of state machine
void ButtonIdleRoutine(Button_t *Button)
{
	//check if button was pressed
	if (GPIO_PIN_RESET == HAL_GPIO_ReadPin(Button->GpioPort, Button->GpioPin))
	{
		Button->State = DEBOUNCE;
		Button->LastTick = HAL_GetTick();
	}
}

void Button_PressedRoutine(Button_t *Button)
{

}

void ButtonDebounceRoutine(Button_t *Button)
{

}


//State machine
void ButtonTask (Button_t *Button)
{
	switch (Button->State)
	case IDLE:
		//do IDLE
		ButtonIdleRoutine(Button);
		break;
	case DEBOUNCE:
		//do Debounce
		ButtonDebounceRoutine(Button);
		break;
	case PRESSED:
		//do PRESSED;
		Button_PressedRoutine(Button);
		break;

}

